(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,function(t,e,n){t.exports=n(14)},,,,,function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),m=n(3),r=n.n(m),u=(n(10),n(4)),c=n(1),s=function(){return Promise.resolve([{customerId:1,customerName:"Tom",amount:120,transactionDate:"2022-05-01"},{customerId:1,customerName:"Tom",amount:75,transactionDate:"2022-05-21"},{customerId:1,customerName:"Tom",amount:94,transactionDate:"2022-05-21"},{customerId:1,customerName:"Tom",amount:10,transactionDate:"2022-06-01"},{customerId:1,customerName:"Tom",amount:75,transactionDate:"2022-06-21"},{customerId:1,customerName:"Tom",amount:200,transactionDate:"2022-07-01"},{customerId:1,customerName:"Tom",amount:1,transactionDate:"2022-07-04"},{customerId:1,customerName:"Tom",amount:80,transactionDate:"2022-07-03"},{customerId:1,customerName:"Tom",amount:224,transactionDate:"2022-07-21"},{customerId:2,customerName:"Goutham",amount:125,transactionDate:"2022-05-01"},{customerId:2,customerName:"Michael",amount:75,transactionDate:"2022-05-21"},{customerId:2,customerName:"Michael",amount:10,transactionDate:"2022-06-01"},{customerId:2,customerName:"Michael",amount:75,transactionDate:"2022-06-21"},{customerId:2,customerName:"Michael",amount:200,transactionDate:"2022-07-01"},{customerId:2,customerName:"Michael",amount:224,transactionDate:"2022-07-21"},{customerId:3,customerName:"Temp User",amount:120,transactionDate:"2022-06-21"}])},l=(n(11),n(12),function(){return o.a.createElement("header",null,o.a.createElement("h1",null,"Rewards Program App"))}),i=(n(13),function(t){var e=t.thead,n=t.tbody;return o.a.createElement("table",null,o.a.createElement("thead",null,o.a.createElement("tr",null,e.map(function(t,e){return o.a.createElement("th",{key:e},t.columnTitle)}))),o.a.createElement("tbody",null,n.map(function(t,n){return o.a.createElement("tr",{key:n},e.map(function(e,n){return o.a.createElement("td",{key:n},t[e.columnName])}))})))});var d=function(){var t=Object(a.useState)(null),e=Object(u.a)(t,2),n=e[0],m=e[1];return Object(a.useEffect)(function(){s().then(function(t){var e=function(t){var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],n=t.map(function(t){var e=0,n=t.amount-100,a=t.amount-n-50;n>0&&(e+=2*n),t.amount>50&&(e+=a);var o=new Date(t.transactionDate).getMonth();return Object(c.a)(Object(c.a)({},t),{},{points:e,month:o})}),a={},o={};n.forEach(function(t){var n=t.customerId,m=t.customerName,r=t.month,u=t.points,c=t.amount;a[n]||(a[n]=[]),o[m]||(o[m]=0),o[m]+=u,a[n][r]?(a[n][r].points+=u,a[n][r].amount+=c,a[n][r].monthNumber=r,a[n][r].numTransactions++):a[n][r]={customerId:n,customerName:m,monthNumber:r,month:e[r],numTransactions:1,amount:c,points:u}});var m=[];for(var r in a)a[r].forEach(function(t){m.push(t)});var u=[];for(var s in o)u.push({customerName:s,points:o[s]});return{groupByCustomer:m,groupByPoints:u}}(t);m(e)})},[]),o.a.createElement("div",null,o.a.createElement(l,null),null!==n&&o.a.createElement("div",{className:"table-container"},o.a.createElement("h4",null,"Month wise customer points"),o.a.createElement(i,{thead:[{columnTitle:"Customer",columnName:"customerName"},{columnTitle:"Month",columnName:"month"},{columnTitle:"No. of Transactions",columnName:"numTransactions"},{columnTitle:"Amount",columnName:"amount"},{columnTitle:"Reward Points",columnName:"points"}],tbody:n.groupByCustomer}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("h4",null,"Total customer points"),o.a.createElement(i,{thead:[{columnTitle:"Customer",columnName:"customerName"},{columnTitle:"Points",columnName:"points"}],tbody:n.groupByPoints})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(d,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}],[[5,1,2]]]);
//# sourceMappingURL=main.4c7b471d.chunk.js.map